{% extends 'video_chat/base.html' %}
{% load static %}

{% block extra_stylesheet %}
    
    <link rel="stylesheet" type="text/css" href="{% static 'users/css/profile.css' %}" />
{% endblock %}

{% block content %}
<div class="profile_style">
  <div class="profile_info">
    {% if userprofile.picture %}
      <img class="profile_picture" src="{{userprofile.picture.url}}" alt="profile picture"/>
    {% else %}
      <img class="profile_picture" src="{% static "users/img/default-img.png"%}" alt="profile picture"/>
    {% endif %}
    <p id="username" >{{ userprofile.user.username }}</p>

    {% if is_friend %}
      <form method="POST" action="{% url 'users:delete_friend' %}">
        {% csrf_token %}
        <button id="button_friendship" type="submit" name="friend_pk" value="{{ userprofile.pk }}" class="btn btn-danger">
          Eliminar amigo
        </button>
      </form>
    {% else %}
      {% if can_send %}
        <form action="{% url 'users:send_request' %}" method="POST">
          {% csrf_token %}
          <button id="button_friendship" type="submit" name="friend_pk" value="{{ profile_pk }}" class="btn btn-primary">
            Enviar solicitud
          </button>
        </form>
      {% endif %}
    {% endif %}
  </div>
  <p id="videos"> Videos Subidos </p>
  <div class="videos_list">
    <ul>
      {% for video in video_list %}
      <li>
        <a id="video_title" href="{% url 'videos:play' video.id %}" class="btn btn-info btn-xs">{{video.title}}</a>
        {% ifequal user.pk profile_pk %}
        <a id="video_title" href="{% url 'videos:delete' video.id %}" class="btn btn-default btn-xs">Borrar Video</a>
        {% endifequal %}
      </li>
      {% endfor%}
    </ul>
  </div>
</div>
{% endblock content %}
